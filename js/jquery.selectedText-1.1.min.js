/**
* selectedText v1.1
* https://github.com/Lugat/selectedText
*
* Copyright (c) 2014 Squareflower Websolutions - Lukas Rydygel
* Licensed under the MIT license
*/
(function(e,f,d,k){function g(a,b){this.name=h;this.version=l;this.opt=m;this.element=b;this.$element=e(b);this.current=null;this.setOptions(a);this._init()}var h="selectedText",l="1.0",m={min:0,max:0,start:function(){},selecting:function(){},stop:function(){}};g.prototype={_init:function(){this.$element.bind("mousedown",function(a){this._start(this,a)}.bind(this)).bind("mousemove",function(a){this._selecting(this,a)}.bind(this)).bind("mouseup",function(a){this._stop(this,a)}.bind(this))},setOptions:function(a){this.opt= e.extend(!0,{},this.opt,a)},getOptions:function(){return this.opt},options:function(a){return"object"===typeof a?this.setOptions(a):this.getOptions()},option:function(a,b){if("string"===typeof a&&this.opt[a]){if(b===k)return this.opt[a];this.opt[a]=b}},_start:function(a,b){this.current=a;this.opt.start(b)},_selecting:function(a,b){var c=this._getSelectedText();this._checkLength(c.length)&&this.current===a&&this.opt.selecting(c,b)},_stop:function(a,b){var c=this._getSelectedText();this._checkLength(c.length)&& this.current===a&&this.opt.stop(c,b);delete this.current},_checkLength:function(a){if(0>=this.opt.min&&0>=this.opt.max)return!0;if(0<this.opt.min&&0===this.opt.max)return a>=this.opt.min;if(0===this.opt.min&&0<this.opt.max)return a<=this.opt.max;if(0<this.opt.min&&this.opt.max>=this.opt.min)return a>=this.opt.min&&a<=this.opt.max},_getSelectedText:function(){return f.getSelection?f.getSelection().toString():d.getSelection?d.getSelection():d.selection?d.selection.createRange().text:null},destroy:function(){this.$element.unbind("mousedown mousemove mouseup")}}; e.widget.bridge(h,g)})(jQuery,window,document);