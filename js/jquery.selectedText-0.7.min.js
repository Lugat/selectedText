/**
* selectedText v0.7
* http://squareflower.de/downloads/jquery/selectedText/
*
* Copyright 2010, Lukas Rydygel
* Attribution-ShareAlike 3.0 Unported (CC BY-SA 3.0)
* http://creativecommons.org/licenses/by-sa/3.0/
*/
(function(e,g,d){function c(a,b){this.name=f;this.version=i;this.defaultOptions=h;this.element=a;this.$element=e(a);this.pressed=!1;this._setOptions(b);this.init()}var f="selectedText",i="0.7",h={min:0,max:0,start:function(){},selecting:function(){},stop:function(){}};c.prototype._setOptions=function(a){this.options=e.extend({},h,a)};c.prototype._getOptions=function(){return this.options};c.prototype.options=function(a){return"object"===typeof a?this._setOptions([a]):this._getOptions()};c.prototype.init= function(){var a=this;this.$element.bind("mousedown",function(b){a._start(b)}).bind("mousemove",function(b){a._selecting(b)}).bind("mouseup",function(b){a._stop(b)})};c.prototype._start=function(a){this.pressed=!0;this.options.start(a)};c.prototype._selecting=function(a){var b=this._getSelectedText();this._checkLength(b.length)&&this.pressed&&this.options.selecting(b,a)};c.prototype._stop=function(a){var b=this._getSelectedText();this._checkLength(b.length)&&this.pressed&&this.options.stop(b,a);this.pressed= !1};c.prototype._checkLength=function(a){if(0>=this.options.min&&0>=this.options.max)return!0;if(0<this.options.min&&0==this.options.max)return a>=this.options.min?!0:!1;if(0==this.options.min&&0<this.options.max)return a<=this.options.max?!0:!1;if(0<this.options.min&&this.options.max>=this.options.min)return a>=this.options.min&&a<=this.options.max?!0:!1};c.prototype._getSelectedText=function(){return g.getSelection?g.getSelection().toString():d.getSelection?d.getSelection():d.selection?d.selection.createRange().text: null};c.prototype.destroy=function(){this.$element.unbind("mousedown mousemove mouseup")};e.fn[f]=function(){var a=arguments;return this.each(function(){var b=e(this).data("plugin_"+f);if(!b&&("object"===typeof a[0]||!a))e(this).data("plugin_"+f,new c(this,a[0]));else if("string"===typeof a[0]){var d=a[0].replace("_","");b[d]?b[d].apply(b,Array.prototype.slice.call(a,1)):alert("An error occured.")}else alert("An error occured.")})}})(jQuery,window,document);