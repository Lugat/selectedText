/**
* selectedText v1.0
* https://github.com/Lugat/selectedText
*
* Copyright (c) 2014 Squareflower Websolutions - Lukas Rydygel
* Licensed under the MIT license
*/
(function(d,e,c,h){function f(a,b){this.name=g;this.version=k;this.opt=l;this.element=b;this.$element=d(b);this.pressed=!1;this.setOptions(a);this._init()}var g="selectedText",k="1.0",l={min:0,max:0,start:function(){},selecting:function(){},stop:function(){}};f.prototype={_init:function(){this.$element.bind("mousedown",function(a){this._start(a)}.bind(this)).bind("mousemove",function(a){this._selecting(a)}.bind(this)).bind("mouseup",function(a){this._stop(a)}.bind(this))},setOptions:function(a){this.opt= d.extend(!0,{},this.opt,a)},getOptions:function(){return this.opt},options:function(a){return"object"===typeof a?this.setOptions(a):this.getOptions()},option:function(a,b){if("string"===typeof a&&this.opt[a]){if(b===h)return this.opt[a];this.opt[a]=b}},_start:function(a){this.pressed=!0;this.opt.start(a)},_selecting:function(a){var b=this._getSelectedText();this._checkLength(b.length)&&this.pressed&&this.opt.selecting(b,a)},_stop:function(a){var b=this._getSelectedText();this._checkLength(b.length)&& this.pressed&&this.opt.stop(b,a);this.pressed=!1},_checkLength:function(a){if(0>=this.opt.min&&0>=this.opt.max)return!0;if(0<this.opt.min&&0===this.opt.max)return a>=this.opt.min;if(0===this.opt.min&&0<this.opt.max)return a<=this.opt.max;if(0<this.opt.min&&this.opt.max>=this.opt.min)return a>=this.opt.min&&a<=this.opt.max},_getSelectedText:function(){return e.getSelection?e.getSelection().toString():c.getSelection?c.getSelection():c.selection?c.selection.createRange().text:null},destroy:function(){this.$element.unbind("mousedown mousemove mouseup")}}; d.widget.bridge(g,f)})(jQuery,window,document);